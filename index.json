[{"content":"Today I learned how to use PKCS #12 archives with Apache Tomcat for Transport Layer Security (TLS).\n   Note  TLS superseded Secure Sockets Layer (SSL) protocol.     In the following example, we create a Tomcat TLS connector that uses a PKCS #12 file as Keystore.\n Directory layout ../Tomcat/ ../Tomcat/ | certificates/ | | file.p12 | conf/ | | server.xml   The files file.p12 and server.xml contain the private key and password for a certificate. Make sure that only the Tomcat process can access them.\n The password for the certificateâ€™s private key must match that for the PKCS #12 file.\n ../Tomcat/conf/server.xml for Tomcat version 10, 9, and 8 \u0026lt;!-- TOMCAT TLS CONNECTOR --\u0026gt; \u0026lt;Connector port=\u0026#34;8443\u0026#34; protocol=\u0026#34;org.apache.coyote.http11.Http11NioProtocol\u0026#34; SSLEnabled=\u0026#34;true\u0026#34; scheme=\u0026#34;https\u0026#34; secure=\u0026#34;true\u0026#34; \u0026gt; \u0026lt;SSLHostConfig\u0026gt; certificateVerification=\u0026#34;optional\u0026#34; \u0026lt;Certificate certificateKeystoreType=\u0026#34;PKCS12\u0026#34; certificateKeystoreFile=\u0026#34;certificates/\u0026lt;file\u0026gt;.p12\u0026#34; (1) certificateKeystorePassword=\u0026#34;\u0026lt;password\u0026gt;\u0026#34; (2) /\u0026gt; \u0026lt;/SSLHostConfig\u0026gt; \u0026lt;/Connector\u0026gt;     Adapt certificateKeystoreFile and\n  certificateKeystorePassword to your environment\n   For Tomcat 7, we need a different config.\n ../Tomcat/conf/server.xml for Tomcat version 7 \u0026lt;!-- TOMCAT 7.x TLS CONNECTOR --\u0026gt; \u0026lt;Connector port=\u0026#34;8443\u0026#34; protocol=\u0026#34;org.apache.coyote.http11.Http11NioProtocol\u0026#34; SSLEnabled=\u0026#34;true\u0026#34; scheme=\u0026#34;https\u0026#34; secure=\u0026#34;true\u0026#34; clientAuth=\u0026#34;false\u0026#34; keystoreType=\u0026#34;PKCS12\u0026#34; keystoreFile=\u0026#34;certificates/\u0026lt;file\u0026gt;.p12\u0026#34; (1) keystorePass=\u0026#34;\u0026lt;password\u0026gt;\u0026#34; (2) /\u0026gt;     Adapt keystoreFile and\n  keystorePass to your environment\n   After restarting Tomcat, you can connect to TCP port 8443 via HTTP over TLS (HTTPS), for example.\n ","permalink":"https://www.andreaslongo.com/blog/how-to-tomcat-pkcs12/","summary":"Today I learned how to use PKCS #12 archives with Apache Tomcat for Transport Layer Security (TLS).\n   Note  TLS superseded Secure Sockets Layer (SSL) protocol.     In the following example, we create a Tomcat TLS connector that uses a PKCS #12 file as Keystore.\n Directory layout ../Tomcat/ ../Tomcat/ | certificates/ | | file.p12 | conf/ | | server.xml   The files file.","title":"How to Use PKCS #12 Archives with Apache Tomcat for TLS/SSL"},{"content":"Today I learned how to download and import a Vagrant box manually.\n To download or upgrade a Vagrant box, you can use commands like vagrant box add and vagrant box update. Most of the time, you should be fine using these automated processes.\n But sometimes you need more control. Imagine you are working from home and you need to download several huge boxes. You also have lots of video calls with your customers throughout the day, so your priority is to maintain high call quality. To do that, you need to prevent Vagrant from eating up your entire internet bandwidth.\n A Better Way to Control your Vagrant Download Vagrant has no built-in option for controlling the download process, but fortunately, you can always use the tool of your choice to download a box.\n You also want to integrate a box smoothly into your existing Vagrant environment so that commands like vagrant box update will work as intended.\n In the following example, we will download and import the Debian Buster v10.7.0 box for Virtualbox.\n Just follow six simple steps:\n  Get the direct download link for a box\n  https://app.vagrantup.com/debian/boxes/contrib-buster64/versions/10.7.0/providers/virtualbox.box\n     Download the box\nI am using curl here with a download rate limit, but you can use any tool that works for you.\n $ curl --location --remote-name --limit-rate 500k --continue-at - https://app.vagrantup.com/debian/boxes/contrib-buster64/versions/10.7.0/providers/virtualbox.box       Add the box to Vagrant\nNote the last argument, which is the local file you just downloaded.\n $ vagrant box add debian/contrib-buster64 ./virtualbox.box       Rename the version directory of the box to the correct version\n$ cd ~/.vagrant.d/boxes/debian-VAGRANTSLASH-buster64/ $ mv ./0 ./10.7.0   Your directory structure should now look like this:\n debian-VAGRANTSLASH-contrib-buster64/ | 10.7.0/ | | virtualbox/ | | | Vagrantfile | | | box.ovf | | | box_update_check | | | contrib-buster.vmdk | | | master_id | | | metadata.json | metadata_url       If not exist, create a metadata_url file\nThis file should contain a link to the Vagrant box without the version part.\n $ echo -n \u0026#34;https://app.vagrantup.com/debian/boxes/contrib-buster64\u0026#34; \u0026gt; ./metadata_url       Verify by listing all installed boxes\n$ vagrant box list debian/contrib-buster64 (virtualbox, 10.7.0)      You should see your new or updated box with the correct version number and, commands like vagrant box update should work as usual.\n   ","permalink":"https://www.andreaslongo.com/blog/how-to-download-and-import-a-vagrant-box/","summary":"Today I learned how to download and import a Vagrant box manually.\n To download or upgrade a Vagrant box, you can use commands like vagrant box add and vagrant box update. Most of the time, you should be fine using these automated processes.\n But sometimes you need more control. Imagine you are working from home and you need to download several huge boxes. You also have lots of video calls with your customers throughout the day, so your priority is to maintain high call quality.","title":"How to Download and Import a Vagrant Box Manually"},{"content":"","permalink":"https://www.andreaslongo.com/archive/","summary":"","title":"Archive"},{"content":"","permalink":"https://www.andreaslongo.com/search/","summary":"","title":"Search"}]